#=============================================
# Racks Room 1: Injection Pulsed Magnets
#=============================================

#######  VLAN 170  #######
# port 07: 10.128.170.107 --> Booster Injection Septum
# port 08: 10.128.170.108 --> Booster Injection Kicker
# port 09: 10.128.170.109 --> SR Injection Septum Thick-1
# port 10: 10.128.170.110 --> SR Injection Septum Thick-2
# port 17: 10.128.170.111 --> SR Injection Septum Thin
# port 18: 10.128.170.112 --> Horizontal Pinger
# port 19: 10.128.170.113 --> OnAxis
# port 20: 10.128.170.116 --> NLK

#class "10.128.170.DHCP" {
#    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
#            ((binary-to-ascii(10, 32, ".", option agent.circuit-id) = "17") or
#            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "18")));
#    spawn with option agent.circuit-id;
#}

class "10.128.170.107" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "7"));
    spawn with option agent.circuit-id;
}
class "10.128.170.108" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "8"));
    spawn with option agent.circuit-id;
}
class "10.128.170.109" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "9"));
    spawn with option agent.circuit-id;
}
class "10.128.170.110" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "10"));
    spawn with option agent.circuit-id;
}
class "10.128.170.111" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "17"));
    spawn with option agent.circuit-id;
}
class "10.128.170.112" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "18"));
    spawn with option agent.circuit-id;
}
class "10.128.170.113" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "19"));
    spawn with option agent.circuit-id;
}
class "10.128.170.116" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.170.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "20"));
    spawn with option agent.circuit-id;
}

#---------------------------------------------

# Defining subnet of VLAN 170
subnet 10.128.170.0 netmask 255.255.255.0 {
    option domain-name-servers 10.0.0.71, 10.0.0.72;
    option subnet-mask 255.255.255.0;
#    option routers 10.128.170.1;
    option routers 10.128.170.11;
    option broadcast-address 10.128.170.255;
    default-lease-time 30;
    max-lease-time 30;

    #===============
    # Dynamic IP
    #===============
#    pool {
#        allow members of "10.128.170.DHCP";
#        range 10.128.170.170 10.128.170.254;
#    }
    #===============
    # Static IP
    #===============
    #-----------------------------------
    # Booster Injection Septum
    pool {
        allow members of "10.128.170.107";
        range 10.128.170.107;
    }
    #-----------------------------------
    # Booster Injection Kicker
    pool {
        allow members of "10.128.170.108";
        range 10.128.170.108;
    }
    #-----------------------------------
    # SR Injection Septum Thick-1
    pool {
        allow members of "10.128.170.109";
        range 10.128.170.109;
    }
    #-----------------------------------
    # SR Injection Septum Thick-2
    pool {
        allow members of "10.128.170.110";
        range 10.128.170.110;
    }
    #-----------------------------------
    # SR Injection Septum Thick-2
    pool {
        allow members of "10.128.170.111";
        range 10.128.170.111;
    }
    #-----------------------------------
    # Horizontal Pinger
    pool {
        allow members of "10.128.170.112";
        range 10.128.170.112;
    }
    #-----------------------------------
    # OnAxis
    pool {
        allow members of "10.128.170.113";
        range 10.128.170.113;
    }
    #-----------------------------------
    # NLK
    pool {
        allow members of "10.128.170.116";
        range 10.128.170.116;
    }
    #-----------------------------------
}

