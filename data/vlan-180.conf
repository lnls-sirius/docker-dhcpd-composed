#=============================================
# Racks Room 20: Ejection Pulsed Magnets
#=============================================

#######  VLAN 180  #######
# port 13: 10.128.180.107 --> Booster Ejection Kicker
# port 14: 10.128.180.108 --> Booster Ejection Septum Thin
# port 15: 10.128.180.109 --> Booster Ejection Septum Thick
# port 16: 10.128.180.110 --> Vertical Pinger
# port 17: 10.128.180.111 --> Spare (room 20)

#class "10.128.180.DHCP" {
#    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.180.11") and
#            ((binary-to-ascii(10, 32, ".", option agent.circuit-id) = "16") or
#            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "17") or
#            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "24")));
#    spawn with option agent.circuit-id;
#}

class "10.128.180.107" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.180.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "13"));
    spawn with option agent.circuit-id;
}
class "10.128.180.108" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.180.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "14"));
    spawn with option agent.circuit-id;
}
class "10.128.180.109" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.180.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "15"));
    spawn with option agent.circuit-id;
}
class "10.128.180.110" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.180.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "16"));
    spawn with option agent.circuit-id;
}
class "10.128.180.111" {
    match if ((binary-to-ascii(10, 8, ".", option agent.remote-id) = "10.128.180.11") and
            (binary-to-ascii(10, 32, ".", option agent.circuit-id) = "17"));
    spawn with option agent.circuit-id;
}

#---------------------------------------------

# Defining subnet of VLAN 180
subnet 10.128.180.0 netmask 255.255.255.0 {
    option domain-name-servers 10.0.0.71, 10.0.0.72;
    option subnet-mask 255.255.255.0;
    #option routers 10.128.180.1;
    option routers 10.128.180.11;
    option broadcast-address 10.128.180.255;
    default-lease-time 30;
    max-lease-time 30;

    #=========================
    # Dynamic IP
    #=========================
#    pool {
#        allow members of "10.128.180.DHCP";
#        range 10.128.180.170 10.128.180.254;
#    }
    #=========================
    # Static IP
    #=========================
    #-----------------------------------
    # Booster Ejection Kicker
    pool {
        allow members of "10.128.180.107";
        range 10.128.180.107;
    }
    #-----------------------------------
    # Booster Ejection Septum Thin
    pool {
        allow members of "10.128.180.108";
        range 10.128.180.108;
    }
    #-----------------------------------
    # Booster Ejection Septum Thick
    pool {
        allow members of "10.128.180.109";
        range 10.128.180.109;
    }
    #-----------------------------------
    # Vertical Pinger
    pool {
        allow members of "10.128.180.110";
        range 10.128.180.110;
    }
    #-----------------------------------
    # Spare (room 20)
    pool {
        allow members of "10.128.180.111";
        range 10.128.180.111;
    }
    #-----------------------------------
}

#=============================================
